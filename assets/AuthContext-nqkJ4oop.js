import{r as t,j as h}from"./index-gsApfYKx.js";const m=t.createContext(void 0),y=({children:r})=>{const[x,u]=t.useState(()=>{try{return localStorage.getItem("nexus_user")}catch{return null}}),[g,n]=t.useState(()=>{try{return localStorage.getItem("nexus_token")}catch{return null}}),[i,s]=t.useState(()=>{try{return localStorage.getItem("nexus_user_id")}catch{return null}}),[S,a]=t.useState(()=>{try{return localStorage.getItem("nexus_email")}catch{return null}}),_=(e,c,o,l)=>{u(e),n(c),s(o??null),a(l??null);try{localStorage.setItem("nexus_user",e),localStorage.setItem("nexus_token",c),o?localStorage.setItem("nexus_user_id",o):localStorage.removeItem("nexus_user_id"),l?localStorage.setItem("nexus_email",l):localStorage.removeItem("nexus_email")}catch{}},I=()=>{u(null),n(null),s(null),a(null);try{localStorage.removeItem("nexus_user"),localStorage.removeItem("nexus_token"),localStorage.removeItem("nexus_user_id"),localStorage.removeItem("nexus_email")}catch{}};return h.jsx(m.Provider,{value:{user:x,userId:i,token:g,email:S,login:_,logout:I},children:r})},A=()=>{const r=t.useContext(m);if(!r)throw new Error("useAuth must be used within AuthProvider");return r};export{y as AuthProvider,A as useAuth};
