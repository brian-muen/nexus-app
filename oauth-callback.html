<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>OAuth callback</title>
  </head>
  <body>
    <script>
      // Send the URL fragment (which contains the tokens) back to the opener window
      try {
        if (window.opener && window.location.hash) {
          window.opener.postMessage({ type: 'oauth_callback', hash: window.location.hash }, window.location.origin);
        }
      } catch (e) {
        // ignore
      }
      // close popup after a short delay
      setTimeout(() => window.close(), 500);
    </script>
  </body>
</html>
